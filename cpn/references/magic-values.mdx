---
title: "Magic Values for Testing"
description: ""
sideNav: ""
tableOfContents: true
documentationItems: 
- title: Documentation
sidebarTitle: "Magic Values for Testing"
---

You can use specific values when you create a payment on testnet to get the CPN
API to return certain statuses. These magic values can be useful to test how
your integration handles specific states and situations of payments. Magic
values can be used in the sandbox environment.

The following sections outline the magic values you can pass to the sandbox API
and the effect that they have on the response from the API.

<Note>
**Note:** All of the magic values listed in the following sections are case
sensitive. The specified field must be set to the exact value in the table in
order for them to work.
</Note>

## Create payment

You can test payments by providing magic values on the `ORIGINATOR_NAME` field
when making requests to the
[create a payment endpoint](/api-reference/cpn/cpn-platform/create-payment). The
following table outlines the magic values and their effects on the payment
response:

| Magic value                          | Response                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `Failed`                             | Synchronous payment failure. Payment is returned with the `FAILED` status in the synchronous response.                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `AsyncFailed`                        | Asynchronous payment failure. Payment is returned with the `CREATED` status in the synchronous response, followed by a webhook that updates the payment to the `FAILED` status.                                                                                                                                                                                                                                                                                                                                                                                               |
| `AsyncSuccess`                       | Asynchronous payment success. Payment is returned with the `CREATED` status in the synchronous response, followed by a webhook that updates the payment to the `CRYPTO_FUNDS_PENDING` status.                                                                                                                                                                                                                                                                                                                                                                                 |
| `CreateRfi`                          | Payment is returned with an active level 1 RFI in the synchronous response.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `CreateRfiL2`                        | Payment is returned with an active level 2 RFI in the synchronous response.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `CreateRfiL3`                        | Payment is returned with an active level 3 RFI in the synchronous response.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `AsyncRfi`                           | Payment is returned with the `CREATED` status in the synchronous response, followed by a webhook that creates an RFI on the payment.                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `Delayed`                            | Payment is returned with the `CRYPTO_FUNDS_PENDING` status in the synchronous response. After an onchain transaction is received and after the `FIAT_PAYMENT_INITIATED` notification occurs, the fiat settlement time on the payment increases and a payment delayed webhook notifications is sent. The `COMPLETED` webhook is delayed by a few seconds.                                                                                                                                                                                                                      |
| `Expired`                            | Payment is returned with the `CRYPTO_FUNDS_PENDING` status in the synchronous response. After a few seconds the payment status is updated to `FAILED` with the reason `PAYMENT_EXPIRED`.                                                                                                                                                                                                                                                                                                                                                                                      |
| `FailThenRefundWithCompleted`        | Payment is returned with the `CRYPTO_FUNDS_PENDING` status in the synchronous response. After an onchain transaction is received and after the `FIAT_PAYMENT_INITATED` notification occurs, the payment is moved to a `FAILED` state and a refund with the `COMPLETED` status is added to the payment.<br /><br />Using this magic value just fails the payment and sends the refund notification. It does not send the funds from the onchain transaction back. The `txHash` returned in the sandbox environment is a randomly generated transaction hash.                   |
| `FailThenRefundCreatedThenFailed`    | Payment is returned with the `CRYPTO_FUNDS_PENDING` status in the synchronous response. After an onchain transaction is received, a `FIAT_PAYMENT_INITIATED` notification occurs, and the payment is moved to a `FAILED` state. A refund with the `CREATED` status is added to the payment, followed by a webhook that updates the refund to the `FAILED` state.<br /><br />This magic value simulates a scenario where the payment fails and an attempt to issue a refund is made, but the refund also fails, for example due to a downstream system error.                  |
| `FailThenRefundCreatedThenCompleted` | Payment is returned with the `CRYPTO_FUNDS_PENDING` status in the synchronous response. After an onchain transaction is received, a `FIAT_PAYMENT_INITIATED` notification occurs, and the payment is moved to a `FAILED` state. A refund with the `CREATED` status is added to the payment, followed by a webhook that updates the refund to the `COMPLETED` state.<br /><br />This value simulates a successful refund process after a failed payment. The original onchain funds are still not returned to the sender. The `txHash` used for testnet is randomly generated. |

## Submit RFI

You can test RFIs by providing magic values on the `NAME` field when making
requests to the [submit RFI data](/api-reference/cpn/cpn-platform/submit-rfi)
endpoint. The following table outlines the magic values and their effects on the
RFI response:

| Magic value | Response                                        |
| ----------- | ----------------------------------------------- |
| `InReview`  | Stuck RFI. RFI stays in the `IN_REVIEW` status. |
| `Rejected`  | RFI is rejected.                                |

<Note>
**Note:** Any value in the `NAME` field besides the values in the table
results in an approved RFI.
</Note>
